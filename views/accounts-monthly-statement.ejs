<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monthly Statement - <%= month %>/<%= year %></title>
    <link rel="stylesheet" href="/css/account-statement.css" />
  </head>
  <body>
    <div class="container">
      <div class="page-header">
        <h1 class="page-title">Statement for <%= month %>/<%= year %></h1>
        <p class="account-info">Account Overview for this month</p>
      </div>

      <!-- Summary Cards -->
      <div class="summary-cards">
        <div class="summary-card credits">
          <div class="card-title">Total Credits</div>
          <div class="card-value positive">
            $<%= totalCredits.toLocaleString() %>
          </div>
        </div>
        <div class="summary-card debits">
          <div class="card-title">Total Debits</div>
          <div class="card-value negative">
            $<%= totalDebits.toLocaleString() %>
          </div>
        </div>
        <div class="summary-card balance">
          <div class="card-title">Net</div>
          <div
            class="card-value <%= netBalance >= 0 ? 'positive' : 'negative' %>"
          >
            $<%= netBalance.toLocaleString() %>
          </div>
        </div>
      </div>

      <!-- Transaction Details -->
      <div class="statement-section">
        <div class="section-header">
          <h2 class="section-title">
            Transactions for <%= month %>/<%= year %>
          </h2>
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Debit</th>
                <th>Credit</th>
                <th>Balance</th>
              </tr>
            </thead>
            <tbody>
              <% if (transactions.length > 0) { %> <% transactions.forEach(tx =>
              { %>
              <tr>
                <td><%= tx.date.toISOString().slice(0,10) %></td>
                <td><%= tx.description %></td>
                <td><%= tx.debit ? "$" + tx.debit.toLocaleString() : "-" %></td>
                <td>
                  <%= tx.credit ? "$" + tx.credit.toLocaleString() : "-" %>
                </td>
                <td>$<%= tx.balance.toLocaleString() %></td>
              </tr>
              <% }) %> <% } else { %>
              <tr>
                <td colspan="5">No transactions found for this month</td>
              </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>

      <a
        href="/accounts/statement"
        class="view-btn"
        style="margin-top: 1rem; display: inline-block"
      >
        ‚Üê Back to Statement Overview
      </a>
    </div>
  </body>
</html>
